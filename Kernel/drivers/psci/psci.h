/*
 * Created Date: Wednesday, Nov 03st 2021, 21:26:39 pm
 * Author: neroyang
 *
 * Copyright (c) 2021 ChicoryOS
 */

#ifndef __CHICORYOS_KERNEL_POWERMANAGER__
#define __CHICORYOS_KERNEL_POWERMANAGER__

#define PSCI_VERSION 0x84000000
#define CPU_SUSPEND 0xC4000001
#define CPU_OFF 0x84000002
#define CPU_ON 0xC4000004
#define AFFINITY_INFO 0xC4000004
#define MIGRATE 0xC4000005
#define MIGRATE_INFO_TYPE 0x84000006
#define MIGRATE_INFO_UP_CPU 0xC4000007
#define SYSTEM_OFF 0x84000008
#define SYSTEM_RESET 0x84000009
#define SYSTEM_RESET2 0xC4000012
#define MEM_PROTECT 0x84000013
#define MEM_PROTECT_CHECK_RANGE 0xC4000014
#define PSCI_FEATURES 0x8400000A
#define CPU_FREEZE 0x8400000B
#define CPU_DEFAULT_SUSPEND 0xC400000C
#define NODE_HW_STATE 0xC400000D
#define SYS_SUSPEND 0xC400000E
#define PSCI_SET_SUSPEND_MODE 0x8400000F
#define PSCI_STAT_RESIDENCY 0xC4000010
#define PSCI_STAT_COUNT 0xC4000011

typedef enum PSCIResult {
  INVALID_ADDRESS = 0,
  DISABLED,
  NOT_PRESENT,
  INTERNAL_FAILURE,
  ON_PENDING,
  ALREADY_ON,
  DENIED,
  INVALID_PARAMETERS,
  NOT_SUPPORTED,
  SUCCESS,
} PSCIResult;

static const char* psci_result_text[] = {
  "INVALID_ADDRESS",
  "DISABLED",
  "NOT_PRESENT",
  "INTERNAL_FAILURE",
  "ON_PENDING",
  "ALREADY_ON",
  "DENIED",
  "INVALID_PARAMETER",
  "NOT_SUPPORTED",
  "SUCCESS"
};

static inline const char* psci_result_str(PSCIResult result) {
  return psci_result_text[result + 9];
}
#endif /* __CHICORYOS_KERNEL_POWERMANAGER__ */
